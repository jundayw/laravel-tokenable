---
title: 令牌数据库存储配置
lang: zh-CN
---

# 令牌数据库存储配置

```php
/*
|-----------------------------------------------------------------------------------------
| 数据库存储配置
|-----------------------------------------------------------------------------------------
|
| 您可以在此处配置令牌在应用程序的
| 数据库中的持久化方式。此部分允许您定义应使用的数据库连接，
| 以及所有已颁发令牌将存储到的特定表。
| 通过自定义这些设置，您可以根据需要将令牌存储与主应用程序表隔离。
|
*/

'database' => [
    
    /*
    |---------------------------------------------------------------------------
    | 数据库连接
    |---------------------------------------------------------------------------
    |
    | 此选项指定应使用的数据库连接，
    | 用于存储和管理已颁发令牌。默认情况下，如果环境文件中未定义特定的
    | TOKEN_CONNECTION，则回退到应用程序的主数据库连接。
    |
    |
    */
    
    'connection' => env('TOKEN_CONNECTION', env('DB_CONNECTION', 'mysql')),
    
    /*
    |--------------------------------------------------------------------------
    | 令牌存储表
    |---------------------------------------------------------------------------
    |
    | 此表用于持久化所有生成的令牌及其元数据，
    | 包括访问令牌、刷新令牌、到期时间和
    | 撤销状态。如果您希望
    | 将令牌存储在自定义表中，可以更改此表名称。
    |
    |
    */
    
    'table' => env('TOKEN_TABLE', 'auth_tokens'),
],
```

您可以在此处配置令牌在应用程序的数据库中的持久化方式。此部分允许您定义应使用的数据库连接，以及所有已颁发令牌将存储到的特定表。
通过自定义这些设置，您可以根据需要将令牌存储与主应用程序表隔离。

## 发布迁移文件

```shell
php artisan vendor:publish --tag=tokenable-migrations
```

## 整合迁移

```shell
php artisan migrate --path=database/migrations/2025_06_01_000000_create_auth_token_table.php
```
