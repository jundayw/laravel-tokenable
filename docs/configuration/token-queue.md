---
title: 令牌队列配置
lang: zh-CN
---

# 令牌队列配置

```php
/*
|-----------------------------------------------------------------------
| 令牌队列配置
|---------------------------------------------------------------------------------------
|
| 此部分定义用于处理令牌相关任务（例如签发、刷新或
| ）的队列连接和队列名称异步撤销令牌。
|
| 您可以将连接配置为使用 Laravel 支持的任何队列驱动程序，
| 例如，"sync"、"database"、"redis"、"sqs" 等。
|
*/

'queue' => [

    /*
    |--------------------------------------------------------------------------
    | 令牌队列连接
    |---------------------------------------------------------------------------
    |
    | 用于令牌任务的队列连接。
    |
    | 如果设置为 'sync'，任务将在当前进程中立即执行。
    |
    */
    
    'connection' => env('TOKEN_QUEUE_CONNECTION', env('QUEUE_CONNECTION', 'sync')),
    
    /*
    |---------------------------------------------------------------------------
    | 令牌队列的工作队列
    |---------------------------------------------------------------------------
    |
    | 令牌任务将被推送到的队列的名称。
    |
    | 这对于将令牌作业与其他应用程序作业分开非常有用，并且
    | 允许优先级或专用工作器。
    |
    */
    
    'queue' => env('TOKEN_QUEUE', 'default'),
],
```

::: warning
如果 `TOKEN_QUEUE_CONNECTION` 和 `QUEUE_CONNECTION` 设置不同，需要使用 `php artisan queue:work [TOKEN_QUEUE_CONNECTION]` 命令来启动队列。
:::

如果 `QUEUE_CONNECTION` 不等于 `sync`，可以使用命令来启动队列。

```shell
php artisan queue:work
```
